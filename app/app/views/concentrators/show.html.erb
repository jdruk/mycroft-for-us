<div id="chart"></div>
<div id='tet'></div>

<p>
  <strong>Hostname:</strong>
  <%= @concentrator.hostname %>
</p>

<p>
  <strong>Address:</strong>
  <%= @concentrator.address %>
</p>

<p>
  <strong>Login:</strong>
  <%= @concentrator.login %>
</p>

<p>
  <strong>Password:</strong>
  <%= @concentrator.password %>
</p>

<%= link_to 'Editar', edit_concentrator_path(@concentrator), class: 'ui basic button' %> 
<%= link_to 'Voltar', concentrators_path, class: 'ui basic button' %>

<script type="text/javascript">
function rand() {
  return Math.random();
}

Plotly.plot('chart', [{
  y: [1,2,3].map(rand)
}, {
  y: [1,2,3].map(rand)
}]);

var cnt = 0;

var interval = setInterval(function() {
  cnt++;
  Plotly.extendTraces('chart', {
    y: [[5], [30]]
  }, [0, 1])

  $('#tet').text((cnt));
  if(cnt === 100) clearInterval(interval);
}, 300);

</script>